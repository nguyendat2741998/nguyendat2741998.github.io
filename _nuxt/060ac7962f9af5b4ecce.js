(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{241:function(t,e,r){var content=r(247);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(67).default)("1d5bef2f",content,!0,{sourceMap:!1})},242:function(t,e,r){var content=r(249);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(67).default)("6ea78d0f",content,!0,{sourceMap:!1})},243:function(t,e,r){var content=r(251);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(67).default)("6759f5ab",content,!0,{sourceMap:!1})},246:function(t,e,r){"use strict";var n=r(241);r.n(n).a},247:function(t,e,r){(e=r(66)(!1)).push([t.i,".card-body{position:relative}.post-carousel{margin-left:-1.25rem;margin-right:-1.25rem}.card--post .post-comment{margin:1.25rem -1.25rem 0;border-top:1px solid #dee2e6!important;padding:.25rem 1.25rem}.card--post .post-comment .post-comment-list{list-style-type:none;margin:0;padding:0}.reaction-bar{padding:.25rem!important;height:30px!important}.brl--active{color:#007bff!important}.reaction-icon{padding:10px;transition:.2s;cursor:pointer;background-size:contain;background-position:50%;background-repeat:no-repeat}.reaction-icon.icon-sad{background-image:url(/images/reactions/sad.svg)}.reaction-icon.icon-haha{background-image:url(/images/reactions/haha.svg)}.reaction-icon.icon-like{background-image:url(/images/reactions/like.svg)}.reaction-icon.icon-love{background-image:url(/images/reactions/love.svg)}.reaction-icon.icon-angry{background-image:url(/images/reactions/angry.svg)}.scrolling-wrapper{overflow-x:auto;overflow-y:hidden;white-space:nowrap;padding-bottom:.5rem;margin-left:calc(1.25rem - 5px)}.scrolling-wrapper .img-wrapper .top-left{position:absolute;top:10px;left:10px}.scrolling-wrapper .img-wrapper .top-right{position:absolute;top:10px;right:10px}.scrolling-wrapper .img-wrapper{display:inline-block;height:15rem;width:10rem;background-size:cover;background-repeat:no-repeat;background-position:50%;border-radius:10px;margin:0 5px;position:relative}.page .card--post .post-social .post-social-reactions{display:flex;justify-content:space-between;border-top:1px solid #dee2e6!important;padding:.25rem 0;margin-bottom:-1.25rem}.page .card--post .post-social .post-social-reactions .reaction{color:#606770;font-weight:700;margin:0 .05rem;width:100%}.page .card--post .post-social .post-social-details{margin-left:-1.25rem;margin-right:-1.25rem;border-top:1px solid #dee2e6!important;padding:0 1.25rem}.page .card--post .post-social .post-social-details .post-social-details-item{display:inline-block}.page .card--post .post-social .post-social-details .post-social-details-item button,.page .card--post .post-social .post-social-details .post-social-details-item label,.page .card--post .post-social .post-social-details .post-social-details-item span{font-size:13px;color:#606770;vertical-align:top;margin-bottom:0}",""]),t.exports=e},248:function(t,e,r){"use strict";var n=r(242);r.n(n).a},249:function(t,e,r){(e=r(66)(!1)).push([t.i,".create-post .scrolling-wrapper .img-wrapper{height:10rem;width:7rem;transition:all 1s}.flip-list-enter,.flip-list-leave-to{opacity:0;width:0!important}",""]),t.exports=e},250:function(t,e,r){"use strict";var n=r(243);r.n(n).a},251:function(t,e,r){(e=r(66)(!1)).push([t.i,".gedf-card .card--post{transition:all 1s}.post-list-enter,.post-list-leave-to{opacity:0;height:0!important}",""]),t.exports=e},258:function(t,e,r){"use strict";r.r(e);r(5),r(3),r(2),r(1),r(4);var n=r(0),o=r(60),c=(r(20),r(13),{name:"cricleAvatar",data:function(){return{}},props:{defaultSource:String,source:Object||String,setSize:String},computed:{src:function(){var t="";return this.source?this.source instanceof String?this.source:(this.source.thumbnails&&(t=this.source.thumbnails.location+this.source.thumbnails.nodes[0]),t):this.defaultSource||""},size:function(){var t=this.setSize||"36px";return"".concat(t,"px")}}}),l=r(27),d=Object(l.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("b-avatar",{attrs:{variant:"primary",src:this.src,size:this.size}})}),[],!1,null,null,null).exports,m={components:{"cricle-avatar":d},props:{avatar:Object,username:String,description:String,href:String}},v=Object(l.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex justify-content-start align-items-start"},[r("cricle-avatar",{attrs:{source:t.avatar,defaultSource:"/images/avatar-anonymous.png",setSize:"46"}}),t._v(" "),r("div",{staticClass:"user-information ml-2"},[r("h5",[t._v(t._s(t.username))]),t._v(" "),r("p",{staticClass:"text-muted"},[t._v(t._s(t.description))])])],1)}),[],!1,null,null,null).exports,f=(r(18),r(19),r(28),r(10)),h=r(47),_={createReaction:function(t,data,e){return Object(f.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.success,o=e.error,r.prev=1,r.next=4,h.a.post(t,data,{progress:!1}).then((function(t){return n&&n(t.data)})).catch((function(t){return o&&o(t)}));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),o&&o(r.t0.toString());case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()},updateReaction:function(t,data,e){return Object(f.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.success,o=e.error,r.prev=1,r.next=4,h.a.patch(t,data,{progress:!1}).then((function(t){return n&&n(t.data)})).catch((function(t){return o&&o(t)}));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),o&&o(r.t0.toString());case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()},deleteReaction:function(t,e){return Object(f.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.success,o=e.error,r.prev=1,r.next=4,h.a.delete(t,{progress:!1}).then((function(t){return n&&n(t.data)})).catch((function(t){return o&&o(t)}));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),o&&o(r.t0.toString());case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()},loadReactions:function(t,e){return Object(f.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.success,o=e.error,r.prev=1,r.next=4,h.a.get(t,{progress:!1}).then((function(t){return n&&n(t.data)})).catch((function(t){return o&&o(t)}));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),o&&o(r.t0.toString());case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()}},y={components:{"user-item":v},props:{id:String,common:Object},data:function(){return{reactions:[],next:"",show:!1}},created:function(){this.next=this.common.location,console.log(this.next)},methods:{load:function(){var t=this;this.show=!0,_.loadReactions(this.next,{error:function(e){t.show=!1},success:function(e){t.next=e.next,e.results.forEach((function(e){t.reactions.push(e)})),t.show=!1}})}}},C={name:"postItem",components:{CricleAvatar:d,"reactions-modal":Object(l.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-modal",{attrs:{id:t.id,size:"md",centered:"","hide-footer":"",scrollable:"",title:"Reactions"},on:{shown:function(e){return t.load()}}},[r("b-overlay",{attrs:{show:t.show,"no-wrap":""}}),t._v(" "),r("b-container",{staticStyle:{margin:"-1rem"},attrs:{fluid:""}},[r("b-col",[r("ul",{staticStyle:{"padding-left":"0","list-style-type":"none"}},t._l(t.reactions,(function(e,i){return r("li",{key:i},[r("b-row",{staticStyle:{padding:"8px 0"}},[r("b-col",[r("user-item",{attrs:{avatar:e.create_by.avatar,username:e.create_by.full_name,description:"h1llo anymore",href:"#"}})],1),t._v(" "),r("b-col",{staticClass:"d-flex justify-content-center align-items-center",attrs:{cols:"2"}},["H"===e.react_type?r("div",[r("span",{staticClass:"reaction-icon icon-haha"}),t._v("  Haha\n              ")]):"O"===e.react_type?r("div",[r("span",{staticClass:"reaction-icon icon-love"}),t._v("  Love\n              ")]):"S"===e.react_type?r("div",[r("span",{staticClass:"reaction-icon icon-sad"}),t._v("  Sad\n              ")]):"A"===e.react_type?r("div",[r("span",{staticClass:"reaction-icon icon-angry"}),t._v("  Angry\n              ")]):"L"===e.react_type?r("div",[r("span",{staticClass:"reaction-icon icon-like"}),t._v("  Like\n              ")]):t._e()])],1)],1)})),0)])],1)],1)}),[],!1,null,null,null).exports},props:{id:String,author:Object,content:String,create_at:String,files:null,reactions:null,comments:null},data:function(){return{isShowReaction:!1,icon:"",name:"",cardBodyWidth:0,singleFile:null,myReaction:{react:"M",isActive:!1,node:""},delayPopover:{show:1e3,hide:100},showReactionsModal:!1}},created:function(){if(this.cardBodyWidth=document.getElementsByClassName("create-post")[0].offsetWidth,"User"==this.author.type){var t=this.author.data;this.icon=t.avatar,this.name=t.full_name}else if("Company"==this.author.type){var e=this.author.data;this.icon=e.logo,this.name=e.name}if(this.files&&1==this.files.length){var r=this.files[0],n=this.getThumbnail(r),o=this.thumbnailFitCard(n.size,this.cardBodyWidth-40);this.singleFile={style:{"background-image":"url("+n.src+")",width:o[0]+"px",height:o[1]+"px"}}}this._.has(this.reactions,"my_react")&&this._.has(this.reactions,"my_react.data.react_type")&&Object.assign(this.myReaction,{isActive:!0,react:this.reactions.my_react.data.react_type,node:this.reactions.my_react.node})},computed:{images:function(){return!this.files||this.files&&0==this.files.length?null:this.files.filter((function(t,e){return"image"==t.mimetype.split("/")[0]})).map((function(t,e,r){return{icon:'<i class="fas fa-image"></i>',src:t.raw}}))}},methods:{getThumbnail:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r={src:"",size:[]};if(this._.has(t,"thumbnails.location")&&this._.has(t,"thumbnails.nodes")){for(var i in t.thumbnails.nodes){var s=t.thumbnails.nodes[i],n=t.thumbnails.nodes[parseInt(i)+1],a=s.split("x"),b=a[1].split(".")[0],o=[parseInt(a[0]),parseInt(b)];if(!n){Object.assign(r,{src:t.thumbnails.location+s,size:o});break}b=(a=n.split("x"))[1].split(".")[0];var c=[parseInt(a[0]),parseInt(b)];o[0]<=e&&e<=c[0]&&Object.assign(r,{src:t.thumbnails.location+s,size:c})}}return r},thumbnailFitCard:function(t,e){return[e,e/t[0]*t[1]]},reactionIconOnClick:function(t,e){var r=this;if(this.myReaction.isActive){var n=this.reactions.location+this.myReaction.node+"/";this.myReaction.react===e?_.deleteReaction(n,{success:function(t){Object.assign(r.myReaction,{isActive:!1,react:"D",node:""})},error:function(t){console.log(t)}}):_.updateReaction(n,{react_type:e},{success:function(t){console.log(e,r.myReaction,t),Object.assign(r.myReaction,{isActive:!0,react:t.react_type,node:t.id})},error:function(t){console.log(t)}})}else _.createReaction(this.reactions.location,{react_type:e},{success:function(t){Object.assign(r.myReaction,{isActive:!0,react:t.react_type,node:t.id})},error:function(t){console.log(t)}})}}},w=(r(246),Object(l.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-card",{key:t.id,staticClass:"gedf-card card--post",attrs:{"no-body":""}},[r("b-card-header",[r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("div",{staticClass:"mr-2"},[r("CricleAvatar",{attrs:{source:t.icon,defaultSource:"/images/avatar-anonymous.png",setSize:"36"}})],1),t._v(" "),r("div",{staticClass:"ml-2"},[r("div",{staticClass:"h5 m-0"},[t._v(t._s(t.name))]),t._v(" "),r("div",{staticClass:"h7 text-muted"},[r("span",[r("timeago",{attrs:{datetime:t.create_at,"auto-update":60}})],1)])])]),t._v(" "),r("div",[r("b-dropdown",{attrs:{id:"gedf-drop1",variant:"link",right:"","toggle-class":"text-decoration-none btn-link","no-caret":""},scopedSlots:t._u([{key:"button-content",fn:function(){return[r("i",{staticClass:"fas fa-ellipsis-v",staticStyle:{color:"#C62168"}})]},proxy:!0}])},[t._v(" "),r("div",{staticClass:"h6 dropdown-header"},[t._v("Configuration")]),t._v(" "),r("b-dropdown-item",{attrs:{href:"#"}},[t._v("Save")]),t._v(" "),r("b-dropdown-item",{attrs:{href:"#"}},[t._v("Hide")]),t._v(" "),r("b-dropdown-item",{attrs:{href:"#"}},[t._v("Report")])],1)],1)])]),t._v(" "),r("b-card-body",[t.content?r("div",{staticClass:"post-content"},[r("read-more",{attrs:{length:200,text:t.content,link:"#","max-chars":200}})],1):t._e(),t._v(" "),t.images?r("div",{staticClass:"post-carousel"},[r("div",{staticClass:"scrolling-wrapper"},[t.singleFile?r("figure",{staticClass:"img-wrapper",style:t.singleFile.style},[r("div",{staticClass:"top-left"},[r("div",{staticClass:"text-white"},[r("b-avatar",{attrs:{size:24,href:"#foobar",variant:"primary"},domProps:{innerHTML:t._s(t.singleFile.icon)}})],1)])]):t._l(t.images,(function(e,i){return r("figure",{key:i,staticClass:"img-wrapper",style:"background-image: url("+e.src+")"},[r("div",{staticClass:"top-left"},[r("div",{staticClass:"text-white"},[r("b-avatar",{attrs:{size:24,href:"#foobar",variant:"primary"},domProps:{innerHTML:t._s(e.icon)}})],1)])])}))],2)]):t._e(),t._v(" "),r("div",{staticClass:"post-social"},[t.reactions.summary||t.comments.parent_comments?r("div",{staticClass:"post-social-details"},[r("div",{staticClass:"post-social-details-item psdi-reactions-count"},[t.reactions.summary?r("b-button",{attrs:{variant:"link"},on:{click:function(e){return t.$root.$emit("bv::show::modal","modal-reaction-"+t.id,e.target)}}},[t._l(t.reactions.summary,(function(e,i){return r("span",{key:i},["H"==i?r("label",{staticClass:"rounded"},[r("span",{staticClass:"reaction-icon icon-haha"})]):"L"==i?r("label",{staticClass:"rounded"},[r("span",{staticClass:"reaction-icon icon-like"})]):"S"==i?r("label",{staticClass:"rounded"},[r("span",{staticClass:"reaction-icon icon-sad"})]):"A"==i?r("label",{staticClass:"rounded"},[r("span",{staticClass:"reaction-icon icon-angry"})]):t._e()])})),t._v(" "),r("span",{domProps:{innerHTML:t._s(t.reactions.count)}})],2):t._e(),t._v(" "),t.comments.parent_comments?r("span",[t._v("•")]):t._e(),t._v(" "),t.comments.parent_comments?r("b-button",{attrs:{variant:"link"}},[r("span",{domProps:{innerHTML:t._s(t.comments.parent_comments.count+" Comments")}})]):t._e(),t._v(" "),r("reactions-modal",{attrs:{id:"modal-reaction-"+t.id,common:t.reactions}})],1)]):t._e(),t._v(" "),r("div",{staticClass:"post-social-reactions"},[r("b-button",{class:["reaction","btn-reaction-like",{"brl--active":t.myReaction.isActive}],attrs:{size:"sm",variant:"light",id:"popover-"+t.id},on:{click:function(e){return t.reactionIconOnClick(t.id,"L")}}},["H"===t.myReaction.react?r("div",[r("span",{staticClass:"reaction-icon icon-haha"}),t._v("  Haha\n          ")]):"O"===t.myReaction.react?r("div",[r("span",{staticClass:"reaction-icon icon-love"}),t._v("  Love\n          ")]):"S"===t.myReaction.react?r("div",[r("span",{staticClass:"reaction-icon icon-sad"}),t._v("  Sad\n          ")]):"A"===t.myReaction.react?r("div",[r("span",{staticClass:"reaction-icon icon-angry"}),t._v("  Angry\n          ")]):r("div",[r("i",{staticClass:"far fa-thumbs-up"}),t._v(" Like\n          ")])]),t._v(" "),r("b-popover",{attrs:{target:"popover-"+t.id,triggers:"hover",placement:"top",delay:"delayPopover"}},[r("div",{staticClass:"d-flex justify-content-around align-items-center reaction-bar"},[r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"reaction-icon",attrs:{title:"Thích"},on:{click:function(e){return t.reactionIconOnClick(t.id,"L")}}},[r("span",{staticClass:"reaction-icon icon-like"})]),t._v(" "),r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"reaction-icon",attrs:{title:"Haha"},on:{click:function(e){return t.reactionIconOnClick(t.id,"H")}}},[r("span",{staticClass:"reaction-icon icon-haha"})]),t._v(" "),r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"reaction-icon",attrs:{title:"Buồn"},on:{click:function(e){return t.reactionIconOnClick(t.id,"S")}}},[r("span",{staticClass:"reaction-icon icon-sad"})]),t._v(" "),r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"reaction-icon",attrs:{title:"Yêu thích"},on:{click:function(e){return t.reactionIconOnClick(t.id,"L")}}},[r("span",{staticClass:"reaction-icon icon-love"})]),t._v(" "),r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],staticClass:"reaction-icon",attrs:{title:"Phẫn nộ"},on:{click:function(e){return t.reactionIconOnClick(t.id,"A")}}},[r("span",{staticClass:"reaction-icon icon-angry"})])])]),t._v(" "),r("button",{staticClass:"btn reaction btn-sm btn-light",attrs:{type:"button"}},[r("i",{staticClass:"far fa-comments",attrs:{"aria-hidden":"true"}}),t._v(" Comment\n        ")]),t._v(" "),r("button",{staticClass:"btn reaction btn-sm btn-light",attrs:{type:"button"}},[r("i",{staticClass:"fas fa-share"})])],1)])])],1)}),[],!1,null,null,null).exports),x={uploadFile:function(t,e){return Object(f.a)(regeneratorRuntime.mark((function r(){var n,o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.success,o=e.error,r.prev=1,(c=new FormData).append("raw",t),r.next=6,h.a.post("files/",c,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){return n&&n(t.data)})).catch((function(t){return o&&o(t)}));case 6:r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),o&&o(r.t0.toString());case 11:case"end":return r.stop()}}),r,null,[[1,8]])})))()},destroyFile:function(t,e){return Object(f.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.success,o=e.error,r.prev=1,r.next=4,h.a.delete("files/"+t+"/").then((function(t){return n&&n(t.data)})).catch((function(t){return o&&o(t)}));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),o&&o(r.t0.toString());case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()},readFile:function(t,e){return Object(f.a)(regeneratorRuntime.mark((function r(){var n,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return n=e.success,o=e.error,r.prev=1,r.next=4,h.a.get("files/"+t+"/").then((function(t){return n&&n(t.data)})).catch((function(t){return o&&o(t)}));case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(1),o&&o(r.t0.toString());case 9:case"end":return r.stop()}}),r,null,[[1,6]])})))()}},k=r(134);function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function j(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var S={components:{CricleAvatar:d},data:function(){return{valid:!1,show:!1,medias:[],post:{content:"",content_type:0,object_id:"",status:"A",attaches:[]},currentFile:""}},computed:j({},Object(o.b)({loggedInUser:"loggedInUser"})),created:function(){Object.assign(this.post,{content_type:13,object_id:this.loggedInUser.id})},methods:{createPost:function(){var t=this;this.show=!0,Object.assign(this.post,{attaches:this.medias.reduce((function(t,e,r){return t.push({object_id:e.id,content_type:35}),t}),[])}),k.a.createPost(j({},this.post),{success:function(e){k.a.checkFields(e)&&(t.$store.commit("posts/addPost",e),Object.assign(t.post,{content:"",attaches:[]}),t.medias=[])},error:function(e){t.$bvToast.toast(e.toString(),{title:"An error occurred",toaster:"b-toaster-bottom-right",variant:"danger"})}}),this.show=!1},chooseImageVideo:function(){document.getElementById("imageVideoUpload").click()},handleImageVideo:function(){var t=this;this.currentFile=this.$refs.file.files[0],x.uploadFile(this.currentFile,{success:function(e){t.medias.unshift({id:e.id,src:e.raw,icon:'<i class="fas fa-image"></i>'}),t.currentFile=""},error:function(e){t.$bvToast.toast(e.toString(),{title:"An error occurred",toaster:"b-toaster-bottom-right",variant:"danger"})}})},removeMedia:function(t){var e=this;x.destroyFile(t.id,{success:function(){e.medias.splice(e.medias.indexOf(t),1)},error:function(t){e.$bvToast.toast(t.toString(),{title:"An error occurred",toaster:"b-toaster-bottom-right",variant:"danger"})}})}}};r(248);function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}var R={components:{PostItem:w,PostForm:Object(l.a)(S,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-overlay",{attrs:{show:t.show,rounded:"sm"}},[r("b-card",{staticClass:"gedf-card create-post"},[r("b-form",{on:{submit:function(e){return e.preventDefault(),t.createPost(e)}}},[r("b-card-header",{staticClass:"pb-1 pt-1"},[r("p",{staticClass:"font-weight-bold mb-0"},[t._v("Create Post")])]),t._v(" "),r("div",{staticClass:"card-body"},[r("div",{staticClass:"tab-content",attrs:{id:"myTabContent"}},[r("div",{staticClass:"form-group mb-0"},[r("div",{staticClass:"d-flex justify-content-lg-between align-items-stretch"},[r("div",{staticClass:"pr-2"},[r("CricleAvatar",{attrs:{source:t.loggedInUser.avatar,defaultSource:"/images/avatar-anonymous.png",setSize:"36"}})],1),t._v(" "),r("div",{staticClass:"text-block w-100"},[r("b-textarea",{staticClass:"form-control",staticStyle:{border:"none",resize:"none"},attrs:{rows:"3",placeholder:"what are you thinking?"},model:{value:t.post.content,callback:function(e){t.$set(t.post,"content",e)},expression:"post.content"}})],1)]),t._v(" "),t.medias&&t.medias.length>0?r("div",{staticClass:"scrolling-wrapper mt-2",staticStyle:{"margin-left":"-5px"}},[r("transition-group",{attrs:{name:"flip-list",tag:"div"}},t._l(t.medias,(function(e){return r("figure",{key:e.id,staticClass:"img-wrapper",style:"background-image: url("+e.src+")"},[r("div",{staticClass:"top-left"},[r("div",{staticClass:"text-white"},[r("b-avatar",{attrs:{size:24,href:"#foobar",variant:"primary"},domProps:{innerHTML:t._s(e.icon)}})],1)]),t._v(" "),r("div",{staticClass:"top-right"},[r("div",{staticClass:"text-dark"},[r("b-avatar",{attrs:{size:24,href:"#foobar",variant:"danger"},on:{click:function(r){return t.removeMedia(e)}}},[r("i",{staticClass:"fas fa-times-circle"})])],1)])])})),0)],1):t._e()])])]),t._v(" "),r("b-card-footer",{staticStyle:{"background-color":"#fff"}},[r("div",{staticClass:"d-flex justify-content-between align-items-center"},[r("div",{staticClass:"attachment"},[r("b-button",{staticClass:"font-weight-bold btn-sm",attrs:{variant:"light"},on:{click:function(e){return t.chooseImageVideo()}}},[r("i",{staticClass:"fas fa-photo-video",staticStyle:{color:"#C62168"}}),t._v(" Photo/Video\n            ")]),t._v(" "),r("b-button",{staticClass:"font-weight-bold btn-sm",attrs:{variant:"light"}},[r("i",{staticClass:"fas fa-paste",staticStyle:{color:"#00539C"}}),t._v(" Files\n            ")]),t._v(" "),r("input",{ref:"file",attrs:{id:"imageVideoUpload",type:"file",accept:".jpg, .jpeg, .tif, .gif, .bmp, .png, .mov, .mp4",hidden:""},on:{change:function(e){return t.handleImageVideo()}}})],1),t._v(" "),r("div",{staticClass:"create-post"},[r("b-button",{staticClass:"font-weight-bold btn-sm",attrs:{variant:"light",disabled:t.valid,type:"submit"}},[r("i",{staticClass:"fas fa-plus-circle text-primary"}),t._v(" Post\n            ")])],1)])])],1)],1)],1)}),[],!1,null,null,null).exports,CricleAvatar:d},head:{title:"Aj"},data:function(){return{offset:{top:70,bottom:20}}},created:function(){this.initPlugins(),this.initialScreen()},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(o.b)({loggedInUser:"loggedInUser",countFollowers:"follows/countFollowers",countFollowing:"follows/countFollowing",posts:"posts/getPosts"})),methods:{scroll:function(t){window.onscroll=function(){document.documentElement.scrollTop+window.innerHeight===document.documentElement.offsetHeight&&console.log("aaaaaaaaaaaa")}},initialScreen:function(){var t=this;this.$store.watch((function(){return t.$store.getters["posts/getError"]}),(function(e,r){t.$bvToast.toast("An error occurred, please check the connection or try again in a few minutes!",{title:"An error occurred",toaster:"b-toaster-bottom-right",variant:"danger"})})),this.$store.dispatch("posts/tryNext"),this.$store.dispatch("follows/updateReport")},initPlugins:function(){}}},F=(r(250),Object(l.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container-md page page-index"},[r("div",{staticClass:" gedf-wrapper"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-sm-4 col-md-4 col-lg-3"},[r("div",{directives:[{name:"sticky",rawName:"v-sticky"}],attrs:{"z-index":99,"sticky-offset":"offset"}},[r("b-card",{staticClass:"gedf-card card-profile-user",attrs:{"no-body":""}},[r("b-card-body",[r("div",{staticClass:"d-flex justify-content-between align-items-start"},[r("div",{staticClass:"item pr-2 align-self-start"},[r("CricleAvatar",{attrs:{source:t.loggedInUser.avatar,defaultSource:"/images/avatar-anonymous.png",setSize:"36"}})],1),t._v(" "),r("div",{staticClass:"item flex-fill"},[r("div",{staticClass:"h5"},[t._v(t._s(t.loggedInUser.username))]),t._v(" "),r("div",{staticClass:"h7 text-muted"},[t._v("Fullname : "+t._s(t.loggedInUser.full_name))])])]),t._v(" "),r("div",{staticClass:"h7"},[t._v("\n                Developer of web applications, JavaScript, PHP, Java, Python, Ruby, Java, Node.js,\n                etc.\n              ")])]),t._v(" "),r("b-list-group",{staticClass:"list-group-flush"},[r("b-list-group-item",[r("div",{staticClass:"h6 text-muted"},[t._v("Followers")]),t._v(" "),r("div",{staticClass:"h5"},[t._v(t._s(t.countFollowers))])]),t._v(" "),r("li",{staticClass:"list-group-item"},[r("div",{staticClass:"h6 text-muted"},[t._v("Following")]),t._v(" "),r("div",{staticClass:"h5"},[t._v(t._s(t.countFollowing))])]),t._v(" "),r("li",{staticClass:"list-group-item"},[t._v("Vestibulum at eros")])],1)],1),t._v(" "),r("b-card",{staticClass:"gedf-card card-groups"},[r("h5",[r("i",{staticClass:"fas fa-user-friends text-primary"}),t._v(" Groups\n            ")]),t._v(" "),r("b-list-group",[r("b-list-group-item",{attrs:{href:"#some-link"}},[t._v("Nhóm 16DTHJA1")]),t._v(" "),r("b-list-group-item",{attrs:{href:"#",active:""}},[t._v("VJIT 2019")]),t._v(" "),r("b-list-group-item",{attrs:{href:"#"}},[t._v("Khoa công nghệ thông tin")]),t._v(" "),r("b-list-group-item",{attrs:{href:"#foobar",disabled:""}},[t._v("Đai học HUTECH")])],1),t._v(" "),r("b-link",{attrs:{href:"#foo"}},[r("i",{staticClass:"fas fa-users-medical"}),t._v(" Create new group\n            ")])],1)],1)]),t._v(" "),r("div",{staticClass:"col-sm-8 col-md-8 col-lg-6"},[r("PostForm"),t._v(" "),t._l(t.posts,(function(t){return r("div",{key:t.id},[r("transition-group",{attrs:{name:"post-list",tag:"div"}},[r("PostItem",{key:"post.id",attrs:{id:t.id,author:t.author,content:t.content,create_at:t.create_at,files:t.files,reactions:t.reactions,comments:t.comments}})],1)],1)}))],2),t._v(" "),r("div",{staticClass:"col-lg-3 d-none d-lg-block"},[r("div",{directives:[{name:"sticky",rawName:"v-sticky"}],attrs:{"z-index":99,"sticky-offset":"offset"}},[r("b-card",{staticClass:"gedf-card card-profile-user",attrs:{"no-body":""}},[r("b-card-body",[r("div",{staticClass:"d-flex justify-content-between align-items-start"},[r("div",{staticClass:"item pr-2 align-self-start"},[r("CricleAvatar",{attrs:{source:t.loggedInUser.avatar,defaultSource:"/images/avatar-anonymous.png",setSize:"36"}})],1),t._v(" "),r("div",{staticClass:"item flex-fill"},[r("div",{staticClass:"h5"},[t._v(t._s(t.loggedInUser.username))]),t._v(" "),r("div",{staticClass:"h7 text-muted"},[t._v("Fullname : "+t._s(t.loggedInUser.full_name))])])]),t._v(" "),r("div",{staticClass:"h7"},[t._v("\n                Developer of web applications, JavaScript, PHP, Java, Python, Ruby, Java, Node.js,\n                etc.\n              ")])]),t._v(" "),r("b-list-group",{staticClass:"list-group-flush"},[r("b-list-group-item",[r("div",{staticClass:"h6 text-muted"},[t._v("Followers")]),t._v(" "),r("div",{staticClass:"h5"},[t._v(t._s(t.countFollowers))])]),t._v(" "),r("li",{staticClass:"list-group-item"},[r("div",{staticClass:"h6 text-muted"},[t._v("Following")]),t._v(" "),r("div",{staticClass:"h5"},[t._v(t._s(t.countFollowing))])]),t._v(" "),r("li",{staticClass:"list-group-item"},[t._v("Vestibulum at eros")])],1)],1)],1)])])])])}),[],!1,null,null,null));e.default=F.exports}}]);